#!/bin/bash

pomodoro_timer=30

if [[ $@ == *"--long"* ]]; then pomodoro_timer=45; fi

start-timer() {
  for (( i = 0; i < $pomodoro_timer; i++)); do
    current_title="$(xprop -root -notype -f WM_NAME '8u' | sed -n -r 's/WM_NAME = \"(.*)\"/\1/p')"
    xsetroot -name "$i $current_title"
    sleep 1m
  done
}

if [[ $1 = "start" ]]; then
  start-timer &
fi
