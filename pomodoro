#!/bin/bash

format-to-time() {
  minutes=$(printf "%02d" $1)
  seconds=$(printf "%02d" $2)
  echo "$minutes:$seconds"
}

start-timer() {
  for (( i = $1 - 1; i > 0; i--)); do
    for (( j = 59; j > 0; j--)); do
      xsetroot -name $(format-to-time $i $j)
      sleep 1s
    done
  done
}

start-pomodoro() {
  if [[ $@ == *"--long"* ]]; then start-timer 45; else start-timer 30; fi
  if [[ $@ == *"--long"* ]]; then start-timer 10; else start-timer 5; fi
}

"$@"
